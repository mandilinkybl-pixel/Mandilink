<%- include('common/header') %>
<!-- Main Content -->
<div class="main-content" id="mainContent">
    <div class="container-fluid">
        <h2 class="mb-4" style="text-align: center; color: #6c63ff; padding-top: 50px;">Create Advertisement </h2>
        <hr style="border: #6c63ff 2px solid; opacity: 1; margin-bottom: 30px; max-width: 600px;  margin-left: auto; margin-right: auto;">

        <!-- Create Form -->
        <form action="/admin/ads/create" method="POST" enctype="multipart/form-data" class="card p-3 p-md-4">
            <!-- Title -->
            <div class="mb-3">
                <label for="title" class="form-label">Ad Title <span class="text-danger">*</span></label>
                <input type="text" name="title" id="title" class="form-control" required aria-required="true" placeholder="Enter ad title">
                <div class="invalid-feedback">Please enter a valid title.</div>
            </div>

            <!-- Link -->
            <div class="mb-3">
                <label for="link" class="form-label">Redirect Link <span class="text-danger">*</span></label>
                <input type="url" name="link" id="link" class="form-control" required aria-required="true" placeholder="https://example.com">
                <div class="invalid-feedback">Please enter a valid URL (e.g., https://example.com).</div>
            </div>

            <!-- Type -->
            <div class="mb-3">
                <label for="type" class="form-label">Ad Position <span class="text-danger">*</span></label>
                <select name="type" id="type" class="form-select" required aria-required="true">
                    <option value="" disabled selected>Select Type</option>
                    <option value="Top">Top</option>
                    <option value="Bottom">Bottom</option>
                    <option value="Sponsored">Sponsored</option>
                    <option value="Side">Side</option>
                </select>
                <div class="invalid-feedback">Please select an ad position.</div>
            </div>

            <!-- Image -->
            <div class="mb-3">
                <label for="image" class="form-label">Ad Image <span class="text-danger">*</span></label>
                <input type="file" name="image" id="image" class="form-control" accept="image/*" required aria-required="true">
                <div class="invalid-feedback">Please upload an image.</div>
                <img id="imagePreview" src="#" alt="Image Preview" class="img-fluid rounded mt-2 d-none" style="max-width: 200px; max-height: 200px;">
            </div>

            <!-- Dates -->
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="startDate" class="form-label">Start Date</label>
                    <input type="date" name="startDate" id="startDate" class="form-control" aria-describedby="startDateHelp">
                    <div id="startDateHelp" class="form-text">Optional: Select start date for the ad.</div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="endDate" class="form-label">End Date</label>
                    <input type="date" name="endDate" id="endDate" class="form-control" aria-describedby="endDateHelp">
                    <div id="endDateHelp" class="form-text">Optional: Select end date for the ad.</div>
                </div>
            </div>

            <!-- Hidden CreatedBy -->
            <input type="hidden" name="createdBy" value="<%= user.id %>">

            <!-- Submit -->
            <button type="submit" class="btn btn-success" style="min-width: 120px;">Create Ad</button>
        </form>
    </div>
</div>
<%- include('common/footer') %>

<style>
    /* Align with dashboard styling */
    .card {
        background: var(--card-gradient);
        box-shadow: var(--shadow);
        border-radius: 12px;
        max-width: 600px;
        margin: 0 auto;
    }
    .form-label {
        color: var(--accent);
        font-weight: 500;
        font-size: clamp(0.9rem, 2.5vw, 1rem);
    }
    .form-control, .form-select {
        border-radius: 8px;
        font-size: clamp(0.85rem, 2vw, 0.95rem);
        padding: 0.5rem 0.75rem;
        touch-action: manipulation;
    }
    .btn-success {
        background: var(--sidebar-btn-gradient);
        border: none;
        border-radius: 8px;
        padding: 0.5rem 1rem;
        font-size: clamp(0.9rem, 2.5vw, 1rem);
        transition: background 0.2s, transform 0.2s;
    }
    .btn-success:hover {
        background: var(--sidebar-btn-hover);
        transform: translateY(-2px);
    }
    .form-text {
        font-size: clamp(0.75rem, 2vw, 0.85rem);
        color: var(--text-dark);
    }
    .invalid-feedback {
        font-size: clamp(0.75rem, 2vw, 0.85rem);
    }
    /* Mobile adjustments */
    @media (max-width: 575.98px) {
        .card {
            padding: 1.5rem;
        }
        .form-control, .form-select {
            padding: 0.5rem;
        }
        .btn-success {
            width: 100%;
            padding: 0.75rem;
        }
        .form-label {
            font-size: 0.9rem;
        }
    }
    /* Tablet adjustments */
    @media (min-width: 576px) and (max-width: 991.98px) {
        .card {
            padding: 2rem;
        }
    }
</style>