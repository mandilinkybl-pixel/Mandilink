 <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Custom JS -->
    <script>
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebarOverlay = document.getElementById('sidebarOverlay');

        // Toggle sidebar
        function toggleSidebar() {
            sidebar.classList.toggle('active');
            sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('collapsed');
            sidebarOverlay.classList.toggle('active');
            // Close all collapsible menus when sidebar collapses on mobile
            if (sidebar.classList.contains('collapsed') && window.innerWidth < 992) {
                document.querySelectorAll('.sidebar .collapse.show').forEach(menu => {
                    bootstrap.Collapse.getInstance(menu)?.hide();
                });
            }
        }

        // Sidebar toggle button
        sidebarToggle.addEventListener('click', toggleSidebar);

        // Overlay click to close sidebar
        sidebarOverlay.addEventListener('click', toggleSidebar);

        // Close sidebar on swipe left (mobile)
        let touchStartX = 0;
        sidebar.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
        });
        sidebar.addEventListener('touchmove', (e) => {
            const touchX = e.touches[0].clientX;
            if (touchStartX - touchX > 50 && sidebar.classList.contains('active')) {
                toggleSidebar();
            }
        });

        // Adjust sidebar on resize
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 992) {
                sidebar.classList.remove('collapsed', 'active');
                mainContent.classList.remove('collapsed');
                sidebarOverlay.classList.remove('active');
            } else if (!sidebar.classList.contains('active')) {
                sidebar.classList.add('collapsed');
            }
        });

        // Initialize sidebar state
        if (window.innerWidth < 992) {
            sidebar.classList.add('collapsed');
            mainContent.classList.add('collapsed');
        }
    </script>